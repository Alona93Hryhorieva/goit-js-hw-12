{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGalleryItemMarkup } from './js/render-functions.js';\nimport { fetchData } from './js/pixabay-api.js';\n\nconst galleryStyles = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst searchForm = document.querySelector('.search-form');\nconst listGallery = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\nconst loadMoreBtn = document.querySelector('.gallery-btn');\n\nlet searchQuery = '';\nlet currentPage = 1;\n// let totalPages;\n\n\n\nasync function onSearchFormSubmit(event) {\n    event.preventDefault();\n    currentPage = 1;\n    \n    try {\n        searchQuery = event.target.elements.searchKeyword.value.trim();\n        listGallery.innerHTML = '';\n        loadMoreBtn.classList.add('is-hidden');\n\n        if (searchQuery === '') {\n            event.currentTarget.reset();\n            return iziToast.error({\n                message: 'Input field cannot be empty',\n                position: 'topRight',\n                timeout: 2000,\n                color: 'red',\n            });\n        } \n        \n        loader.classList.remove('is-hidden');\n\n        const searchParamsObj = await fetchData(searchQuery, currentPage);\n        console.log(searchParamsObj);\n\n\n\n    \n\n\n\n\n\n    } catch (error) {\n        \n    }\n\n\n\n}\n\n\n\n\n    \n\n  \n        \n        \n\n\n\n\n\n    \n\n//     fetchPhotosByQuery(searchQuery)\n//         .then(imagesData => {\n//             console.log('Received data:', imagesData); \n\n//             if (imagesData.hits.length === 0 || !imagesData.hits) {\n//                 iziToast.show({\n//                     message: 'Sorry, there are no images for this query',\n//                     position: 'topRight',\n//                     timeout: 2000,\n//                     color: 'red',\n//                 });\n\n//                 listGallery.innerHTML = '';\n//                 return;\n//             }\n\n//             listGallery.innerHTML = createGalleryItemMarkup(imagesData.hits);\n\n//             if (lightbox) {\n//                 lightbox.destroy();\n//             }\n//             lightbox = new SimpleLightbox('.js-gallery a', {\n//                 captionDelay: 250,\n//             });\n//         })\n        \n//         .catch(error => {\n//             console.error('Error fetching photos:', error);\n//             iziToast.show({\n//                 message: 'An error occurred while fetching photos',\n//                 position: 'topRight',\n//                 timeout: 2000,\n//                 color: 'red',\n//             });\n//         })\n\n//         .finally(() => {\n//             event.target.reset();\n//             loader.classList.add('is-hidden');\n//         });\n// }\n\n// searchForm.addEventListener('submit', onSearchFormSubmit);\n"],"names":["SimpleLightbox"],"mappings":"svBASsB,IAAIA,EAAe,kBAAmB,CAC1D,aAAc,MACd,aAAc,GAChB,CAAC,EAEkB,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EAC3C,SAAS,cAAc,SAAS,EAC3B,SAAS,cAAc,cAAc"}